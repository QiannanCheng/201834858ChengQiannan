from yang cs.umass.edu hong yang subject colormap question hi expert i'm kind new x follow question strang me i am try modifi content colormap fail without reason me i am us follow piec code toplevel xtiniti argv testcolor null argc argv dpy xtdisplai toplevel scr defaultscreen dpy def_colormap defaultcolormap dpy scr xalloccolorcel dpy def_colormap true null cell color.pixel cell color.r color.green color.blu color.flag dore dogreen doblu xstorecolor dpy def_colormap color printf n try alloc color d d d d color.pixel color.r color.green color.blu xquerycolor dpy def_colormap color printf n after alloc color d d d d color.pixel color.r color.green color.blu els printf n error couldn't alloc color cell run output try alloc color after alloc color after xstorecolor xquerycolor just return origin valu failur error displai content colormap obviou unchang i also tri draw line us color turn out unmodifi color so what my problem how modifi content colormap ani help inform appreci pleas send mail yang cs.umass.edu william email yang cs.umass.edu wai follow environ i am us output xdpyinfo show default visual pseudocolor version number vendor string decwindow digitalequipmentcorpor uw vendor releas number maximum request size longword byte motion buffer size bitmap unit bit order pad lsbfirst imag byte order lsbfirst number support pixmap format support pixmap format depth bits_per_pixel scanline_pad depth bits_per_pixel scanline_pad keycod rang minimum maximum number extens adob dp extens dpsextens shape mit shm multi buffer xinputextens mit sundri nonstandard dec xtrap default screen number number screen screen dimens x pixel x millimet resolut x dot per inch depth root window id x depth root window plane number colormap minimum maximum default colormap x default number colormap cell prealloc pixel black white option back store ye save under ye current input event mask xd d keypressmask buttonpressmask buttonreleasemask enterwindowmask substructureredirectmask propertychangemask colormapchangemask number visual default visual id x visual visual id x class pseudocolor depth plane size colormap entri red green blue mask x x x signific bit color specif bit visual visual id x class grayscal depth plane size colormap entri red green blue mask x x x signific bit color specif bit visual visual id x class staticgrai depth plane size colormap entri red green blue mask x x x signific bit color specif bit visual visual id x class staticcolor depth plane size colormap entri red green blue mask x x xc signific bit color specif bit visual visual id x class truecolor depth plane size colormap entri red green blue mask x x xc signific bit color specif bit number mono multibuff type visual id max buffer depth x visual id max buffer depth x visual id max buffer depth x visual id max buffer depth x visual id max buffer depth x number stereo multibuff type 