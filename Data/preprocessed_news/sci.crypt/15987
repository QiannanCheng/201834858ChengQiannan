from greg.onuf eng.sun.com greg onuf subject re let' build softwar cryptophon over internet c t demon.co.uk graham toal gtoal gtoal.com write articl regq innn u gap.caltech.edu hal cco.caltech.edu hal finnei write i tri code yesterdai my sparcstat elc take over second compress second worth speech mean need optim over factor befor usabl even half duplex mode ouch thank try follow program veri quick hack i creat few month ago determin whether sun sparcstat ipc could perform real time full duplex encrypt audio result data rate sustain today' modem test program read linearli encod audio from audio devic compress gsm compress frame bit sampl record khz bit result hz frame rate encrypt de revers process send reconstruct audio back audio devic compress encrypt audio stream kbit s my sparcstat ipc exactli veri fast machin dai certainli slower than elc would just bare sustain activ audio underrun would occcur speech veri intellig i ran real time process get best result rememb though program quick hack perform can certainli improv audio compress routin can ftp'd from tub.cs.tu berlin.d i believ look gsm toast i us eric young' de implement i longer know where i got from cheer greg cut here test program see how much cpu take secur digit audio written g onuf greg cheers.bungi.com written sun ipc run solari sun isdn s bu card speakerbox includ stdlib.h includ unistd.h includ fcntl.h includ stdio.h includ sy types.h includ sy audioio.h includ stropts.h includ gsm.h includ des.h boolean_t svs_audio_init int fd audio_info_t prev_info audio_info_t info prev_info null ioctl fd audio_getinfo prev_info perror audio_getinfo return b_fals audio_initinfo info info.record.paus b_true info.play.paus b_true info.play.sample_r info.play.encod audio_encoding_linear info.play.channel info.play.precis info.record.sample_r info.record.encod audio_encoding_linear info.record.channel info.record.precis info.record.buffer_s ioctl fd audio_setinfo info perror audio_setinfo return b_fals ioctl fd i_flush flushrw perror i_flush return b_fals audio_initinfo info info.record.paus b_fals info.play.paus b_fals ioctl fd audio_setinfo info perror audio_setinfo return b_fals return b_true boolean_t svs_in int ifd gsm handl gsm_byte buf gsm_signal sampl read ifd sampl sizeof sampl sizeof sampl fprintf stderr svs_in short read n return b_fals gsm_encod handl sampl buf return b_true boolean_t svs_out int ofd gsm handl gsm_byte buf gsm_signal sampl gsm_decod handl buf sampl fprintf stderr svs_out gsm_decod fail n return b_fals write ofd sampl sizeof sampl sizeof sampl fprintf stderr svs_out short write n return b_fals return b_true main gsm handl gsm_frame frame int audiofd int option des_cblock kei ivec_in ivec_out des_key_schedul ks_in ks_out des_cblock cbuf_in cbuf_out cbuf_buf audiofd open dev audio o_rdwr audiofd perror open exit initi gsm compress code handl gsm_creat null fprintf stderr sv gsm_creat fail n exit option b_true gsm_option handl gsm_opt_fast option fprintf stderr sv gsm_option fast fail n exit initi de code des_random_kei kei des_set_kei kei ks_in fprintf stderr sv des_set_kei fail n exit des_set_kei kei ks_out fprintf stderr sv des_set_kei fail n exit memset ivec_in sizeof ivec_in memset ivec_out sizeof ivec_out open audio devic configur svs_audio_init audiofd null exit get sampl bit linear hz convert byte frame svs_in audiofd handl frame exit encrypt decrypt block des_cbc_encrypt frame cbuf_out long ks_in ivec_in des_encrypt des_cbc_encrypt cbuf_out cbuf_buf long ks_out ivec_out des_decrypt memmov frame cbuf_buf memcmp cbuf_in cbuf_buf fprintf stderr sv memcmp fail n exit endif take byte frame convert sampl plai svs_out audiofd handl frame exit gsm_destroi handl cut here 